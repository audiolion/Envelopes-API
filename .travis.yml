language: python

cache: pip

python:
    - "3.6"

install:
    - pip install -r requirements.txt

services:
    - postgresql

before_script:
    - psql -c 'create database envelopes;' -U postgres

script:
    - bash scripts/lint
    - pytest --ignore venv --cov=envelopes --cov-report=term-missing

after_script:
    - codecov
